**Date:** 2025‑08‑17
**File:** 2025‑08‑17_1.0.3+8_07_ai_notes_auto_summary.md  
**Purpose:** Verify the full **AI Notes** workflow — create a note, add/edit content (transcript, session note, AI instruction), auto‑generate a recap, capture *Like* feedback, and manage the list (filter, delete).

---

# Test Scenario – AI Notes & Auto‑generated Recap

## 0  Pre‑conditions
- Coach is signed‑in  
- Stable internet connection  
- Browser / mobile app updated to latest version  

---

## A  AI Notes List

1. **Open “AI Notes”** from sidebar  
   - Page title “AI Notes” visible  
   - Banner hint “AI can make mistakes…” present  
   - **New** button at top‑left, **Filter (Date)** field at top‑right  
   - Existing notes show **Name** (e.g., 5222‑199) and date; each row has a red trash icon

2. **Filter notes**  
   - Tap **Filter (Date)** → date‑picker opens  
   - Select one date → list collapses to matching notes  
   - Clear (x) filter resets list  

3. **Delete note**  
   - Tap trash icon → confirm dialog *“Delete this note?”* → **Delete**  
   - Row disappears; count decrements  

---

## B  Create New Note

1. **Tap “New”**  
   - Modal “New AI Note Name” appears  
   - **Name** field  
     - Required  
     - 3 – 15 characters  
     - Digits or alphanumerics & hyphens allowed (`0‑9 A‑Z a‑z ‑`)  
     - Live counter bottom‑right (`0/15`)  
   - **Add** button disabled until input valid  
2. Enter valid name → **Add**  
   - Modal closes; new row appears in list (status draft)  
   - App navigates to **AI Note Details**

---

## C  Add Transcript

1. **Tap “Add Transcript”** bar  
   - Full‑page textarea appears  
   - **Show Sample** link populates sample text (optional)  
   - Validation  
     - Min 20 chars, Max 20 000 chars  
     - Plain text only (HTML tags stripped)  
   - **Save** button persists text and returns to details screen  

---

## D  Add Session Note

1. **Tap “Add Session Note”**  
   - Textarea & **Show Sample** link  
   - Validation  
     - Min 20 chars, Max 10 000 chars  
   - **Save** stores session note  

---

## E  Add AI Instruction (Optional)

1. **Tap “Add AI Instruction”**  
   - Textarea & **Show Sample** link  
   - Validation  
     - Min 10 chars, Max 2 000 chars  
   - **Save**   

2. **Apply AI Bot instructions** toggle  
   - Default **ON**; turn **OFF** to ignore instruction when generating recap  

---

## F  Generate Recap

1. **Suggestion input** (single‑line)  
   - Placeholder “Enhance this AI Note in…”  
   - Optional prompt, Max 200 chars  
2. **Generate** button  
   - Disabled if transcript missing  
   - On tap → spinner shows; recap area appears in ≤ 10 s  
3. **Recap output**  
   - Section title
   - Sub‑sections
   - Rich-text formatting
   - Speaker button (🔊) plays TTS of recap  

---

## G  User Feedback & Actions

| Action | Steps | Expected |
|--------|-------|----------|
| **Like** | Tap heart icon under recap | "Are you sure?" message; Heart turns solid |
| **Share** | Tap *Share* button | System share sheet |
| **Reniew** | Tap *Reniew* button | Regenerates the Recap |
| **Audio** | Tap speaker | TTS plays; tap again pauses |

*System logs*  
- Each Like event sends `POST` to App Insights
- 200 OK returned; no toast = error  

---

## H  Edit Existing Content

1. Bars now show **Edit Transcript / Edit Session Note / Edit AI Instruction**  
2. Tap any bar → textarea pre‑filled; edit and **Save**  
3. **Renew** → recap regenerates with latest inputs  

---

## I  Delete the Note (Details Screen)

1. Tap back arrow ← to return to list  
2. Trash icon for the new note → confirm **Delete**  
   - Note removed; user redirected to list view  

---

## 1  Expected Outcome
- Users can create, modify, and delete AI notes without errors  
- Generate produces a structured recap that reflects current inputs and optional AI instruction  
- Like events are captured and can be toggled; API returns success; No spamming to App Insights 
- Share open appropriate in‑app functionality  
- Filters and list maintenance (create, delete) update UI immediately  

---

## Test Checklist

| Test | Pass |
|---|---|
| Coach is signed-in | ✅ |
| Stable internet connection confirmed | ✅ |
| Browser / mobile app is latest version | ✅ |
| Sidebar shows **AI Notes** item | ✅ |
| Tapping **AI Notes** opens notes list page | ✅ |
| Page title “AI Notes” visible | ✅ |
| Banner hint “AI can make mistakes…” present | ✅ |
| **New** button visible (top-left) | ✅ |
| **Filter (Date)** field visible (top-right) | ✅ |
| Existing note rows show Name and date | ✅ |
| Note rows show red trash icon | ✅ |
| Tapping **Filter (Date)** opens date-picker | ✅ |
| Selecting a date filters list to matching notes | ✅ |
| Clearing date filter resets full list | ✅ |
| Tapping trash icon opens “Delete this note?” dialog | ✅ |
| Confirming delete removes row | ✅ |
| Notes count decrements after delete | ✅ |
| Tapping **New** opens “New AI Note Name” modal | ✅ |
| Name field placeholder visible | ✅ |
| Live counter shows `0/15` initially | ✅ |
| Name required error when empty | ✅ |
| Name rejects < 3 characters | ❌ **Issue location:** New AI Note modal. **Where:** Name input validation. **Details:** Accepts names shorter than 3 characters without showing error. |
| Name rejects > 15 characters | ✅ |
| Name accepts digits, letters, hyphens | ✅ |
| Name rejects other symbols | ❌ **Issue location:** New AI Note modal. **Where:** Name input validation. **Details:** Allows special characters (e.g., @, #, &) instead of restricting to digits, letters, and hyphens only. |
| **Add** button disabled until name valid | ❌ **Issue location:** New AI Note modal. **Where:** Add button state logic. **Details:** Button is always active, even with invalid or empty name; shows error only after tap. |
| Entering valid name enables **Add** button | ✅ |
| Tapping **Add** closes modal | ✅ |
| New row appears in list with status Draft | ✅ |
| App navigates to **AI Note Details** screen | ✅ |
| Details screen shows **Add Transcript** bar | ✅ |
| Details screen shows **Add Session Note** bar | ✅ |
| Details screen shows **Add AI Instruction** bar | ✅ |
| **Add Transcript** opens full-page textarea | ✅ |
| Show Sample link populates sample text | ✅ |
| Transcript textarea enforces min 20 chars | ❌ **Issue location:** Add Transcript screen. **Where:** Validation rules. **Details:** Allows saving with fewer than 20 characters without error. |
| Transcript textarea enforces max 20 000 chars | ❌ **Issue location:** Add Transcript screen. **Where:** Validation rules. **Details:** Allows more than 20 000 characters without warning or prevention. |
| HTML tags are stripped from transcript | ❌ **Issue location:** Add Transcript screen. **Where:** Input sanitization. **Details:** HTML tags are processed by AI, not stripped before saving, creating inconsistent behaviour. |
| **Save** button disabled until transcript valid | ❌ **Issue location:** Add Transcript screen. **Where:** Save button state logic. **Details:** Always active, even when transcript is invalid; shows error only after tap. |
| Saving transcript returns to details screen | ✅ |
| **Add Session Note** opens textarea | ✅ |
| Session note min 20 chars enforced | ❌ **Issue location:** Add Session Note screen. **Where:** Validation rules. **Details:** Allows fewer than 20 characters without error. |
| Session note max 10 000 chars enforced | ❌ **Issue location:** Add Session Note screen. **Where:** Validation rules. **Details:** Allows exceeding the maximum character count without error. |
| Saving session note persists text | ✅ |
| **Add AI Instruction** opens textarea | ✅ |
| AI Instruction min 10 chars enforced | ❌ **Issue location:** Add AI Instruction screen. **Where:** Validation rules. **Details:** Allows fewer than 10 characters without error. |
| AI Instruction max 2 000 chars enforced | ❌ **Issue location:** Add AI Instruction screen. **Where:** Validation rules. **Details:** Allows exceeding 2 000 characters without warning. |
| Saving AI instruction persists text | ✅ |
| Apply AI Bot instructions toggle visible | ✅ |
| Toggle default state = ON | ✅ |
| Turning toggle OFF sets ignore state | ✅ |
| Placeholder “Enhance this AI Note in…” visible | ✅ |
| Suggestion input max 200 chars enforced | ❌ **Issue location:** Recap generation input. **Where:** Suggestion field. **Details:** Allows more than 200 characters without error. |
| **Generate** button disabled when transcript missing | ❌ **Issue location:** Recap generation. **Where:** Generate button state logic. **Details:** Button remains active even when transcript is missing, leading to error on click. |
| With transcript present, Generate button enables | ✅ |
| Tapping Generate shows spinner | ✅ |
| Recap appears ≤ 10 s | ✅ |
| Recap section title visible | ✅ |
| Recap shows sub-sections | ✅ |
| Recap uses rich-text formatting | ✅ |
| Speaker button 🔊 present under recap | ✅ |
| Tapping 🔊 plays TTS audio | ✅ |
| Second tap pauses TTS audio | ✅ |
| Heart Like icon visible under recap | ✅ |
| Tapping Like shows “Are you sure?” message | ✅ |
| Confirming Like turns heart solid | ❌ **Issue location:** Recap view. **Where:** Like animation. **Details:** Heart changes to solid state but no animation is shown for visual feedback. |
| Share button visible under recap | ✅ |
| Tapping Share opens system share sheet | ✅ |
| Reniew button visible under recap | ✅ |
| Tapping Reniew regenerates recap | ✅ |
| POST /like event sent to App Insights | ✅ |
| Response 200 OK returns (check network) | ✅ |
| Toast on successful Like | ❌ **Issue location:** Recap view. **Where:** Post-like feedback. **Details:** No toast confirmation is displayed after successful Like API call. |
| Like cannot be spam-clicked (debounced) | ❌ **Issue location:** Recap view. **Where:** Like button behaviour. **Details:** Button can be clicked repeatedly, sending multiple events to App Insights without debounce. |
| Editing transcript shows **Edit Transcript** bar | ✅ |
| Editing session note shows **Edit Session Note** bar | ✅ |
| Editing AI instruction shows **Edit AI Instruction** bar | ✅ |
| Saving edited content updates detail view | ✅ |
| Tapping Renew regenerates recap with edits | ✅ |
| Back arrow returns to AI Notes list | ✅ |
| Newly created note row visible in list | ✅ |
| Trash icon on new row deletes note | ✅ |
| Confirming delete redirects to list view | ✅ |
| Deleted note absent from list after refresh | ✅ |
| Date filter still works after deleting operations | ✅ |
| AI Notes list updates immediately on create/delete | ✅ |